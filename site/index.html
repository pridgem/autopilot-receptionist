<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Autopilot Receptionist</title>
  <meta name="description" content="Turn missed calls into booked jobs. A simple AI receptionist that captures leads and follows up." />
  <style>
    :root{--bg:#0b0f19;--card:#121a2a;--text:#e8eefc;--muted:#aab7d6;--accent:#7aa2ff;}
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:radial-gradient(1200px 600px at 20% 10%,#1b2a55,transparent),var(--bg);color:var(--text)}
    .wrap{max-width:980px;margin:0 auto;padding:56px 20px}
    .hero{display:grid;grid-template-columns:1.2fr .8fr;gap:20px;align-items:start}
    @media (max-width:860px){.hero{grid-template-columns:1fr}}
    .badge{display:inline-block;padding:6px 10px;border:1px solid rgba(122,162,255,.35);border-radius:999px;background:rgba(122,162,255,.12);color:var(--muted);font-size:13px}
    h1{margin:14px 0 10px;font-size:44px;line-height:1.05}
    p{margin:0 0 14px;color:var(--muted);font-size:16px;line-height:1.6}
    .card{background:rgba(18,26,42,.75);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:18px;box-shadow:0 20px 60px rgba(0,0,0,.35)}
    .cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:16px}
    .btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 14px;border-radius:12px;text-decoration:none;font-weight:650}
    .btn-primary{background:var(--accent);color:#081127;border:0;cursor:pointer}
    .btn-secondary{border:1px solid rgba(255,255,255,.18);color:var(--text)}
    ul{margin:10px 0 0 18px;color:var(--muted)}
    .small{font-size:12px;color:var(--muted)}
    .chat{margin-top:22px}
    input,select,textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.25);color:var(--text)}
    label{display:block;margin:10px 0 6px;color:var(--muted);font-size:13px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:860px){.row{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <div>
        <div class="badge">For local service businesses • capture + qualify leads</div>
        <h1>Stop missing calls. Start booking jobs.</h1>
        <p>Autopilot Receptionist captures new leads 24/7, asks the right questions, and hands you a clean summary. (SMS + calendar booking coming next.)</p>
        <div class="cta">
          <button class="btn btn-primary" id="buy">Start Subscription</button>
          <a class="btn btn-secondary" href="#demo">Try the demo</a>
        </div>
        <p class="small" style="margin-top:10px">MVP: web lead capture + follow-up summary. Expand to SMS/booking once validated.</p>
      </div>
      <div class="card">
        <h3>What you get</h3>
        <ul>
          <li>Lead capture widget (website)</li>
          <li>Qualification questions (service + urgency)</li>
          <li>Lead summaries for quick follow-up</li>
        </ul>
        <p class="small">Disclaimer: This is a demo build. Add auth + SMS + calendar before production use.</p>
      </div>
    </div>

    <div id="demo" class="card chat">
      <h3>Demo: capture a lead</h3>
      <p class="small">This saves to <code>/admin/leads</code> (JSON). In production, route to CRM + email/SMS.</p>

      <div class="row">
        <div>
          <label>Name</label>
          <input id="name" placeholder="Jane Doe" />
        </div>
        <div>
          <label>Business</label>
          <input id="business" placeholder="Doe Plumbing" />
        </div>
      </div>

      <div class="row">
        <div>
          <label>Email</label>
          <input id="email" placeholder="jane@doeplumbing.com" />
        </div>
        <div>
          <label>Phone (optional)</label>
          <input id="phone" placeholder="+1 555 555 5555" />
        </div>
      </div>

      <div class="row">
        <div>
          <label>What service do you need?</label>
          <input id="service" placeholder="Emergency leak repair" />
        </div>
        <div>
          <label>Timeframe</label>
          <select id="timeframe">
            <option>Today</option>
            <option>This week</option>
            <option>Next week</option>
            <option>Just pricing</option>
          </select>
        </div>
      </div>

      <label>Notes</label>
      <textarea id="notes" rows="3" placeholder="Address, details, preferred contact time..."></textarea>

      <div class="cta">
        <button class="btn btn-primary" id="submit">Submit lead</button>
        <a class="btn btn-secondary" href="/admin/leads" target="_blank" rel="noreferrer">View leads</a>
      </div>

      <p id="status" class="small"></p>
    </div>

  </div>

<script>
  async function postJSON(url, body) {
    const res = await fetch(url, {
      method: 'POST',
      headers: { 'content-type': 'application/json' },
      body: JSON.stringify(body)
    });
    const data = await res.json().catch(()=> ({}));
    if (!res.ok) throw new Error(data.error ? JSON.stringify(data.error) : 'Request failed');
    return data;
  }

  document.getElementById('submit').addEventListener('click', async () => {
    const status = document.getElementById('status');
    status.textContent = 'Submitting…';
    try {
      await postJSON('/api/lead', {
        name: document.getElementById('name').value,
        business: document.getElementById('business').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        service: document.getElementById('service').value,
        timeframe: document.getElementById('timeframe').value,
        notes: document.getElementById('notes').value,
      });
      status.textContent = 'Saved. (Open /admin/leads)';
    } catch (e) {
      status.textContent = 'Error: ' + String(e.message || e);
    }
  });

  document.getElementById('buy').addEventListener('click', async () => {
    const status = document.getElementById('status');
    status.textContent = 'Opening Stripe Checkout…';
    try {
      const { url } = await postJSON('/api/stripe/checkout', {});
      window.location.href = url;
    } catch (e) {
      status.textContent = 'Stripe not configured yet: ' + String(e.message || e);
    }
  });
</script>
</body>
</html>
